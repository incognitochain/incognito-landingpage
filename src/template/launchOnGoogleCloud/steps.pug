include ../common/collapse.pug

mixin stepHtml(step, stepName, isOpen)
  .step-item#hello
    +collapseItemHtml(`<span class='label' data-step-number='${step}'>${stepName}</span>`, null, isOpen)
      block

.step-container.container
  +collapse('validator-steps-guide')
    +stepHtml('1', `Sign in <a href='https://console.cloud.google.com/'>Google cloud</a> or if you don't have an account yet, <a href='https://cloud.google.com/'>sign up</a> and get a free $300 for 1 year.`, 'true')

    +stepHtml('2', 'Select "Compute Engine" -> "VM Instances"')
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_2.png')).landscape

    +stepHtml('3', 'Click "Create instance"')
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_3.png')).landscape

    +stepHtml('4', 'Name your instance, select "n1-highcpu-4" as below:')
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_4.png')).landscape
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_4_create.png')).landscape
      p Click 
        span.highlight "Create" 
        |and wait a few minutes.

    +stepHtml('5', 'Change the firewall rule')
      p Click on 
        span.highlight "(nic0)"
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_5_choose_ip.png')).landscape
      p Choose 
        span.highlight "Firewall rules" 
        |on the left bar and click 
        span.highlight "Create Firewall Rule"
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_5_create_firewall.png')).landscape
      p Name the firewall rule
        br
        |Under 
        span.highlight "Targets"
        |, choose 
        span.highlight "All instances in the network"
        br
        |Under 
        span.highlight "Source IP ranges"
        |, 
        span.highlight input "0.0.0.0/0"
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_5_fill_info.png')).landscape
      p Under 
        span.highlight "Protocols and ports", 
        |choose 
        span.highlight "Specified protocols and ports" 
        |and tick on 
        span.highlight "tcp"
        |, then input 
        span.highlight "9334,9433"
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_5_create.png')).landscape
      p Then click 
        span.highlight "Create" 
        |and go back to VM Instance.
      p Your local server is now created. This is the IP address to run your Virtual Node
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_5_ip.png')).landscape

    +stepHtml('6', 'SSH to instance')
      p Click on 
        span.highlight "SSH"
        |, select 
        span.highlight "Open in browser window"
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_6_connect.png')).landscape
      p From this SSH window, you can start to set up node by following this instruction: 
        a(href='/validator.html') https://incognito.org/validator
      img(src=require('../../image/launch_on_google_cloud/run_on_gc_step_6_ssh.png')).landscape